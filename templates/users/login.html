{% extends 'users/base.html' %}
{% load staticfiles %}
{% block title %}登录{% endblock %}
{% block css %}
  <link href="{% static 'css/users/login.css' %}?v=1" rel="stylesheet">
{% endblock %}

{% block nav_login_ref %}{% endblock %} {# remove parameters #}
{% block content %}
  <div class="container">
    <div class="row">
      <form id="login-form" class="col s12 m8 l6 offset-m2 offset-l3" method="post"
            action="{% url 'users:accounts:login' %}">
        {% csrf_token %}
        <div class="card-panel" style="background: rgba(255,255,255,0.85);">
          <div class="row">
            <h4 class="center">登录</h4>
          </div>
          {{ form.non_field_errors }}
          <div class="row">
            <div class="input-field col s12">
              {{ form.email.errors }}
              <i class="material-icons prefix">account_circle</i>
              {{ form.email }}
              <label for="{{ form.email.id_for_label }}" data-error="邮箱格式错误">邮箱</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              {{ form.password.errors|safe }}
              <i class="material-icons prefix">lock</i>
              {{ form.password }}
              <label for="{{ form.password.id_for_label }}" data-error="密码长度为8-32位">密码</label>
            </div>
          </div>
          {{ form.password_length }}
          <div class="row">
            <div>
              <i class="material-icons prefix"></i>
              {{ form.keep_login }}
              <label for="{{ form.keep_login.id_for_label }}">保持登录</label>
            </div>
          </div>
{#          <div class="row">#}
{#            <div class="input-field col s12">#}
{#              <i class="material-icons prefix">account_circle</i>#}
{#              <input id="username-or-email" class="validate"#}
{#                     name="username_or_email" type="text" minlength="2"#}
{#                     maxlength="32">#}
{#              <label for="username-or-email" data-error="用户名为4-16个英文或2-8个中文字符">用户名/邮箱</label>#}
{#            </div>#}
{#          </div>#}
{#          <div class="row">#}
{#            <div class="input-field col s12">#}
{#              <i class="material-icons prefix">lock</i>#}
{#              <input id="password" class="validate" name="password"#}
{#                     type="password" data-length="32" maxlength="32"#}
{#                     minlength="8">#}
{#              <label for="password" data-error="密码长度为8-32位">密码</label>#}
{#            </div>#}
{#          </div>#}
{#          <div class="row">#}
{#            <p>#}
{#              <i class="material-icons prefix"></i>#}
{#              <input type="checkbox" id="remember-me" name="remember-me">#}
{#              <label for="remember-me">记住我</label>#}
{#            </p>#}
{#          </div>#}
          <div class="row">
            <button  class="waves-effect waves-light btn col l8 m10 s12 offset-l2 offset-m1"
                     type="submit" name="action">登录</button >
          </div>
          <div class="divider"></div>
          <div class="right-align"><a href="{% url 'users:accounts:register_page' %}">去注册</a></div>
        </div>

      </form>
    </div>
  </div>
{% endblock %}

{% block js %}
  <script src="{% static 'js/users/login.js' %}?v=3"></script>
  <script src="http://cdn.bootcss.com/blueimp-md5/1.1.0/js/md5.min.js"></script>
{% endblock %}