{% load staticfiles %}
<!DOCTYPE html>
<html lang="zh-hans">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}HiCommunity{% endblock %}</title>
  <link href="https://cdn.bootcss.com/materialize/0.100.2/css/materialize.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
  <link href="{% static 'css/common/base.css' %}" rel="stylesheet">
  {% block css %}{% endblock %}
</head>
<body>

  <nav>
    <div class="nav-wrapper teal lighten-2">
      <a href="{% url 'index' %}" class="brand-logo">Logo</a>
      <a href="#" data-activates="mobile-menu" class="button-collapse">
        <i class="material-icons">menu</i></a>
      <ul class="right hide-on-med-and-down">
        {% if is_login %}
          <li>Hello, </li>
          <li><a href="#">{{ request.session.login_user_name }}</a></li>
          <li><a href="{% url 'users:logout' %}?from={{ request.path_info }}" id="nav-logout-btn">注销</a></li>
        {% else %}
          <li><a href="{% url 'users:login_page' %}{% block nav_login_ref %}?from={{ request.path_info }}{% endblock %}">登录</a></li>
        <li><a href="{% url 'users:register_page' %}{% block nav_register_ref %}?from={{ request.path_info }}{% endblock %}">注册</a></li>
        {% endif %}
      </ul>
      <ul class="side-nav" id="mobile-menu">
        <li><a href="{% url 'users:login_page' %}">登录</a></li>
        <li><a href="{% url 'users:register_page' %}">注册</a></li>
        <li><a href="{% url 'users:logout' %}">注销</a></li>
      </ul>
    </div>
  </nav>

  {% block content %}{% endblock %}

  <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdn.bootcss.com/materialize/0.100.2/js/materialize.min.js"></script>
  <script src="{% static 'js/common/base.js' %}?v=1"></script>
  <script src="{% static 'js/common/exception_translation.js' %}"></script>
  {% block js %}{% endblock %}
</body>
</html>